<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Gibrán (narbigcito) — IA, sistemas complejos, antropología experimental y auditoría del conocimiento.">
  <title>narbigcito — IA, sistemas complejos y antropología experimental</title>
  <style>
    :root{
      --bg:#0b0f14;
      --panel:#0f1520;
      --text:#e7eef8;
      --muted:#a8b3c7;
      --line:#223047;
      --accent:#7dd3fc;
      --accent2:#a78bfa;
      --ok:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:16px;
      --max:1000px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica Neue,Arial;
      background:radial-gradient(1200px 600px at 20% 10%,rgba(167,139,250,.18),transparent 55%),
                 radial-gradient(900px 500px at 80% 0%,rgba(125,211,252,.16),transparent 52%),
                 var(--bg);
      color:var(--text);
      line-height:1.55;
    }
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:var(--max);margin:0 auto;padding:28px 18px 60px}
    .top{
      display:flex;align-items:center;justify-content:space-between;gap:16px;
      padding:14px 0 22px;border-bottom:1px solid rgba(34,48,71,.6)
    }
    .brand{display:flex;align-items:center;gap:12px}
    .dot{
      width:12px;height:12px;border-radius:999px;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      box-shadow:0 0 0 5px rgba(125,211,252,.08);
    }
    .name{font-weight:800;letter-spacing:.2px}
    .nav{display:flex;gap:14px;flex-wrap:wrap;justify-content:flex-end}
    .nav a{color:var(--muted)}
    .nav a:hover{color:var(--text)}
    .hero{padding:34px 0 10px}
    .hero h1{margin:0 0 10px;font-size:40px;line-height:1.1}
    .hero p{margin:0;color:var(--muted);font-size:18px;max-width:80ch}
    .cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:18px}
    .btn{
      display:inline-flex;align-items:center;gap:10px;
      padding:10px 14px;border-radius:999px;border:1px solid rgba(34,48,71,.9);
      background:rgba(15,21,32,.75);color:var(--text);box-shadow:var(--shadow);
      cursor:pointer;
    }
    .btn:hover{border-color:rgba(125,211,252,.55);text-decoration:none}
    .btn.secondary{background:transparent;box-shadow:none;color:var(--muted)}
    .btn.secondary:hover{color:var(--text)}
    .grid{margin-top:22px;display:grid;grid-template-columns:1.15fr .85fr;gap:16px}
    .card{
      border:1px solid rgba(34,48,71,.85);
      background:rgba(15,21,32,.6);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:var(--shadow);
    }
    .card h2{margin:0 0 10px;font-size:18px}
    .card p{margin:0;color:var(--muted)}
    .list{margin:12px 0 0;padding:0;list-style:none;display:grid;gap:10px}
    .li{
      padding:12px 12px;border-radius:12px;
      border:1px solid rgba(34,48,71,.7);
      background:rgba(11,15,20,.55);
    }
    .li strong{display:block;color:var(--text);margin-bottom:3px}
    .tagrow{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .tag{
      font-size:12px;color:var(--muted);
      padding:4px 10px;border-radius:999px;
      border:1px solid rgba(34,48,71,.7);
      background:rgba(11,15,20,.55)
    }

    /* Lab extras */
    .split{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:12px}
    .noteBox{
      border:1px solid rgba(34,48,71,.7);
      background:rgba(11,15,20,.55);
      border-radius:14px;
      padding:12px;
      color:var(--muted);
      min-height:110px;
    }
    .noteTitle{color:var(--text);font-weight:800;margin-bottom:6px}
    .noteMeta{font-size:12px;color:var(--muted);opacity:.9;margin-top:8px}
    .pillRow{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .pill{
      font-size:12px;color:var(--muted);
      padding:4px 10px;border-radius:999px;
      border:1px solid rgba(34,48,71,.7);
      background:rgba(0,0,0,.18)
    }

    /* Terminal */
    .terminal{
      border-radius:18px;
      border:1px solid rgba(34,48,71,.85);
      background:rgba(7,10,14,.72);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .termbar{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      padding:10px 12px;border-bottom:1px solid rgba(34,48,71,.6);
      background:rgba(15,21,32,.6)
    }
    .lights{display:flex;gap:8px;align-items:center}
    .light{width:10px;height:10px;border-radius:999px;opacity:.9}
    .r{background:#fb7185}
    .y{background:#fbbf24}
    .g{background:#34d399}
    .termmeta{color:var(--muted);font-size:12px}
    .termwrap{padding:12px}
    .output{
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;
      font-size:13px;
      color:#dbeafe;
      white-space:pre-wrap;
      min-height:220px;
      max-height:380px;
      overflow:auto;
      padding:10px 10px;
      border:1px solid rgba(34,48,71,.6);
      border-radius:14px;
      background:rgba(0,0,0,.25);
    }
    .promptrow{
      display:flex;gap:10px;align-items:center;
      margin-top:10px;
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;
      font-size:13px;
    }
    .prompt{color:#93c5fd;user-select:none}
    .in{
      flex:1;
      border:1px solid rgba(34,48,71,.7);
      background:rgba(11,15,20,.55);
      color:var(--text);
      padding:9px 10px;border-radius:12px;
      outline:none;
    }
    .hint{color:var(--muted);font-size:12px;margin-top:8px}
    .kbd{
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;
      font-size:12px;
      padding:2px 6px;border-radius:8px;
      border:1px solid rgba(34,48,71,.7);
      background:rgba(11,15,20,.55);
      color:var(--muted);
    }

    .footer{
      margin-top:28px;padding-top:18px;
      border-top:1px solid rgba(34,48,71,.6);
      color:var(--muted);font-size:13px;
      display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap
    }

    @media (max-width:920px){
      .grid{grid-template-columns:1fr}
      .split{grid-template-columns:1fr}
      .hero h1{font-size:34px}
    }

    /* Oculta terminal en teléfono */
    @media (max-width:720px){
      #terminal{display:none}
      .nav a[href="#terminal"]{display:none}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="top">
      <div class="brand">
        <span class="dot" aria-hidden="true"></span>
        <div>
          <div class="name">Gibrán <span style="color:var(--muted);font-weight:700">/ narbigcito</span></div>
          <div style="color:var(--muted);font-size:13px">IA · Sistemas complejos · Antropología experimental</div>
        </div>
      </div>
      <nav class="nav" aria-label="Navegación">
        <a href="#ahora">Ahora</a>
        <a href="#lab">Laboratorio</a>
        <a href="#cv">CV</a>
        <a href="#terminal">Terminal</a>
        <a href="#conectar">Conectar</a>
      </nav>
    </header>

    <section class="hero" id="top">
      <h1>Hola, soy el Narbigcito.</h1>
      <p>
        Construyo herramientas para pensar mejor: IA para organizar información, detectar contradicciones y
        exponer juegos de poder que se esconden en el lenguaje.
        También hice un laboratorio de antropología experimental, para cuestionar nuestra realidad en colectivo y con afecto.
        Busco gente peligrosa en el buen sentido: ingeniería, academia, arte, ganas de crear, de cambiar.
      </p>

      <div class="cta">
        <a class="btn" href="#lab">Ver laboratorio →</a>
        <a class="btn" href="#terminal">Abrir terminal →</a>

        <a class="btn" href="./source/resume.pdf" target="_blank" rel="noreferrer">Ver CV (PDF)</a>
        <a class="btn" href="#" data-cv-download>Descargar CV</a>

        <a class="btn secondary" href="https://substack.com/@narbigcito" target="_blank" rel="noreferrer">Substack</a>
        <a class="btn secondary" href="https://github.com/narbigcito" target="_blank" rel="noreferrer">GitHub</a>
        <a class="btn secondary" href="https://www.linkedin.com/in/gibr%C3%A1n-alexis-moreno-zu%C3%B1iga/" target="_blank" rel="noreferrer">LinkedIn</a>
        <a class="btn secondary" href="https://www.instagram.com/elnarbigcito/" target="_blank" rel="noreferrer">Instagram</a>
        <a class="btn secondary" href="https://calendar.app.google/vkautEEQ5BLAt6wz6" target="_blank" rel="noreferrer">Agendar</a>
      </div>

      <div class="tagrow" aria-label="Etiquetas">
        <span class="tag">antropología experimental</span>
        <span class="tag">auditoría científica</span>
        <span class="tag">epistemología aplicada</span>
        <span class="tag">cultura + tecnología</span>
        <span class="tag">sistemas complejos</span>
      </div>
    </section>

    <!-- LAB -->
    <section class="card" id="lab" style="margin-top:16px">
      <h2>Laboratorio de Antropología Experimental</h2>
      <p>
        Un taller raro (en el buen sentido): mezclo ingeniería, teoría y calle.
        Si la realidad es un sistema… entonces también se puede <span style="color:var(--text);font-weight:700">debuggear</span>.
      </p>

      <div class="pillRow" aria-label="Píldoras">
        <span class="pill">lenguaje como infraestructura</span>
        <span class="pill">incentivos & rituales sociales</span>
        <span class="pill">tecnología con ética incómoda</span>
        <span class="pill">arte como instrumento</span>
      </div>

      <div class="split">
        <div class="card" style="box-shadow:none">
          <h2 style="font-size:16px">Qué hago</h2>
          <ul class="list">
            <li class="li"><strong>Mapeo de poder invisible</strong>lenguaje, incentivos, propaganda cotidiana, micro-violencias, “lo normal”.</li>
            <li class="li"><strong>Experimentos culturales</strong>acciones pequeñas que cambian conducta y sentido compartido (sin sermones).</li>
            <li class="li"><strong>Herramientas híbridas</strong>IA + sistemas complejos + escritura + performance (sí, a veces).</li>
          </ul>
        </div>

        <div class="card" style="box-shadow:none">
          <h2 style="font-size:16px">Qué busco</h2>
          <ul class="list">
            <li class="li"><strong>Personas que construyan</strong>infra, software, investigación, arte, comunidad, lenguaje.</li>
            <li class="li"><strong>Gente que busque el cambio</strong>que se atreva a enfrentar verdades incómodas.</li>
            <li class="li"><strong>Colaboraciones</strong>prototipos, textos, charlas, proyectos .</li>
          </ul>
        </div>
      </div>

      <div class="split" style="margin-top:14px">
        <div class="noteBox" id="noteBox">
          <div class="noteTitle">Field note (tap friendly)</div>
          <div id="noteText">
            Presiona “Generar nota” para sacar una observación de laboratorio.
            Úsala como conversación, como idea, o como provocación suave.
          </div>
          <div class="noteMeta" id="noteMeta">modo: observación · fuente: calle/teoría/sistemas</div>
        </div>

        <div class="card" style="box-shadow:none">
          <h2 style="font-size:16px">Mini ritual (inofensivo)</h2>
          <p>
            Si llegaste desde Instagram: hola. Si te dio curiosidad… ya gané.
            Aquí va una puerta de entrada simple:
          </p>
          <div class="cta" style="margin-top:10px">
            <button class="btn" id="genNote" type="button">Generar nota</button>
            <a class="btn secondary" href="https://substack.com/@narbigcito" target="_blank" rel="noreferrer">Leer textos</a>
          </div>
          <div class="hint" style="margin-top:10px">
            Pro tip: las mejores conversaciones empiezan con una observación rara, no con un CV.
          </div>
        </div>
      </div>
    </section>

    <!-- AHORA + CV -->
    <section class="grid">
      <article class="card" id="ahora">
        <h2>Qué estoy haciendo ahora</h2>
        <ul class="list">
          <li class="li">
            <strong>Infraestructura de análisis</strong>
            Pipelines para análisis de texto e imagen (papers, tablas, claims, citas), con trazabilidad y control de cambios.
          </li>
          <li class="li">
            <strong>Auditoría de consistencia científica (experimental)</strong>
            En vez de “verdad”, genera grados de confianza: coherencia interna, replicabilidad y riesgo de sesgo.
          </li>
          <li class="li">
            <strong>Diseño organizacional</strong>
            Cómo evitar captura, dogmas y corrupción informativa cuando un sistema crece.
          </li>
        </ul>

        <div style="margin-top:14px;color:var(--muted)">
          Me gustaría conocer gente a la que le guste crear cosas, que tenga gran capacidad para soñar
        </div>
      </article>

      <aside class="card" id="cv">
        <h2>CV (resumen rápido)</h2>
        <p>Lo esencial, sin humo.</p>

        <ul class="list">
          <li class="li">
            <strong>Backend 10+ años</strong>
            Elixir/Phoenix, Spring(Java), arquitectura escalable y automatización.
          </li>
          <li class="li">
            <strong>Fintech (Bravo)</strong>
            Contratos automáticos, tablas de amortización, herramientas de creditworthiness.
          </li>
          <li class="li">
            <strong>IA aplicada + enfoque humano</strong>
            Sistemas que tratan conocimiento como infraestructura, no como “contenido”.
          </li>
        </ul>

        <div class="cta" style="margin-top:12px">
          <a class="btn" href="./source/resume.pdf" target="_blank" rel="noreferrer">Ver CV (PDF)</a>
          <a class="btn" href="#" data-cv-download>Descargar CV</a>
        </div>
        <div class="hint">Tip: en la terminal escribe <span class="kbd">cv</span> (en desktop).</div>
      </aside>
    </section>

    <!-- TERMINAL -->
    <section class="card" id="terminal" style="margin-top:16px">
      <h2>Terminal</h2>
      <p>Comandos predeterminados. Prueba <span class="kbd">help</span>, <span class="kbd">fieldnote</span> y <span class="kbd">paper audit</span>.</p>

      <div class="terminal" style="margin-top:12px">
        <div class="termbar">
          <div class="lights" aria-hidden="true">
            <span class="light r"></span>
            <span class="light y"></span>
            <span class="light g"></span>
          </div>
          <div class="termmeta">narbigcito@logos:~ · <span id="clock"></span></div>
        </div>

        <div class="termwrap">
          <div id="out" class="output" aria-live="polite"></div>

          <div class="promptrow">
            <div class="prompt">narbigcito@logos:~$</div>
            <input id="in" class="in" type="text" autocomplete="off" spellcheck="false" placeholder="Escribe: help">
          </div>

          <div class="hint">
            Tips: <span class="kbd">↑</span>/<span class="kbd">↓</span> historial · <span class="kbd">Tab</span> autocompleta · <span class="kbd">Ctrl</span>+<span class="kbd">L</span> limpia
          </div>
        </div>
      </div>
    </section>

    <!-- CONECTAR -->
    <section class="card" id="conectar" style="margin-top:16px">
      <h2>Conectar</h2>
      <p>Si quieres colaborar: quién eres, qué sabes hacer, y qué quieres construir conmigo.</p>

      <ul class="list">
        <li class="li"><strong>CV</strong> <a href="./source/resume.pdf" target="_blank" rel="noreferrer">Ver</a> · <a href="#" data-cv-download>Descargar</a></li>
        <li class="li"><strong>GitHub</strong> <a href="https://github.com/narbigcito" target="_blank" rel="noreferrer">github.com/narbigcito</a></li>
        <li class="li"><strong>Substack</strong> <a href="https://substack.com/@narbigcito" target="_blank" rel="noreferrer">substack.com/@narbigcito</a></li>
        <li class="li"><strong>LinkedIn</strong> <a href="https://www.linkedin.com/in/gibr%C3%A1n-alexis-moreno-zu%C3%B1iga/" target="_blank" rel="noreferrer">Perfil</a></li>
        <li class="li"><strong>Instagram</strong> <a href="https://www.instagram.com/elnarbigcito/" target="_blank" rel="noreferrer">@elnarbigcito</a></li>
        <li class="li"><strong>Agendar</strong> <a href="https://calendar.app.google/vkautEEQ5BLAt6wz6" target="_blank" rel="noreferrer">calendar.app.google</a></li>
      </ul>
    </section>

    <footer class="footer">
      <div>© <span id="y"></span> narbigcito. No hecho para gustar a todos.</div>
      <div><a href="#top">Volver arriba ↑</a></div>
    </footer>
  </div>

  <script>
    const LINKS={
      github:"https://github.com/narbigcito",
      substack:"https://substack.com/@narbigcito",
      linkedin:"https://www.linkedin.com/in/gibr%C3%A1n-alexis-moreno-zu%C3%B1iga/",
      insta:"https://www.instagram.com/elnarbigcito/",
      schedule:"https://calendar.app.google/vkautEEQ5BLAt6wz6",
      cv:"./source/resume.pdf"
    };

    // ====== CV download (forzado) ======
    async function forceDownload(url,filename){
      try{
        const res=await fetch(url,{cache:"no-store"});
        if(!res.ok){throw new Error("HTTP "+res.status);}
        const blob=await res.blob();
        const blobUrl=URL.createObjectURL(blob);

        const a=document.createElement("a");
        a.href=blobUrl;
        a.download=filename;
        document.body.appendChild(a);
        a.click();
        a.remove();

        setTimeout(()=>URL.revokeObjectURL(blobUrl),1500);
        return true;
      }catch(err){
        console.error(err);
        return false;
      }
    }

    document.querySelectorAll("[data-cv-download]").forEach(el=>{
      el.addEventListener("click",async(e)=>{
        e.preventDefault();
        const ok=await forceDownload(LINKS.cv,"Gibran-Moreno-CV.pdf");
        if(!ok){
          alert("No pude descargar el CV. Revisa que exista ./source/resume.pdf en tu repo.");
        }
      });
    });

    // ====== Footer year ======
    document.getElementById("y").textContent=new Date().getFullYear();

    // ====== Field notes (IG-friendly) ======
    const notes=[
      {t:"Observación",x:"La gente no discute ideas: defiende identidades. Cambia el marco y cambia el resultado."},
      {t:"Método",x:"Si una institución te dice “confía”, suelta también su incentivo. La verdad sin incentivo es sospechosa."},
      {t:"Lenguaje",x:"Cuando una conversación se vuelve moral, normalmente alguien ya perdió la evidencia."},
      {t:"Calle",x:"Los sistemas no fallan por maldad; fallan por diseño. Y el diseño suele ser invisible."},
      {t:"Ritual",x:"Todo grupo tiene liturgia. Si no la diseñas, te la heredan."},
      {t:"Amor/Política",x:"La intimidad también es infraestructura. Una relación sin lenguaje común se vuelve un malentendido constante."},
      {t:"Tecnología",x:"La IA no es oráculo. Es espejo con esteroides: amplifica sesgos, pero también te obliga a verlos."},
      {t:"Sistemas",x:"Una teoría que no tolera preguntas no es teoría: es bandera."}
    ];
    function pick(arr){return arr[Math.floor(Math.random()*arr.length)];}
    function renderNote(){
      const n=pick(notes);
      const box=document.getElementById("noteText");
      const meta=document.getElementById("noteMeta");
      box.textContent=n.x;
      meta.textContent=`modo: ${n.t.toLowerCase()} · timestamp: ${new Date().toLocaleString("es-MX")}`;
    }
    document.getElementById("genNote")?.addEventListener("click",renderNote);

    // ====== Terminal ======
    const out=document.getElementById("out");
    const input=document.getElementById("in");

    const clock=document.getElementById("clock");
    const tick=()=>clock.textContent=new Date().toLocaleString("es-MX",{hour:"2-digit",minute:"2-digit"});
    tick();setInterval(tick,15000);

    const history=[];
    let hIdx=0;
    const promptStr="narbigcito@logos:~$ ";

    const cmds=[
      "help","about","now","lab","fieldnote","project","links","open","github","substack","linkedin","insta","schedule","cv",
      "ls","clear","whoami","ascii","paper audit","paper scan","matrix","theme"
    ];

    let theme="dark";
    const sleep=ms=>new Promise(r=>setTimeout(r,ms));

    function esc(s){
      return s.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;");
    }
    function writeRaw(html){
      out.innerHTML+=html;
      out.scrollTop=out.scrollHeight;
    }
    function writeLine(text=""){
      writeRaw(`<div>${esc(text)}</div>`);
    }
    async function typeLine(text="",speed=8){
      const safe=esc(text);
      let i=0;
      writeRaw("<div id='tw'></div>");
      const el=document.getElementById("tw");
      while(i<safe.length){
        el.innerHTML+=safe[i];
        i++;
        out.scrollTop=out.scrollHeight;
        await sleep(speed);
      }
      el.removeAttribute("id");
    }

    function banner(){
      writeLine("LOGOS terminal v0.2 (demo)");
      writeLine("Escribe: help");
      writeLine("");
    }

    function help(){
      writeLine("Comandos:");
      writeLine("  help, about, now, lab, fieldnote, project, links");
      writeLine("  open <github|substack|linkedin|insta|schedule|cv>");
      writeLine("  cv (abrir + descargar CV)");
      writeLine("  ls, whoami, ascii, matrix, paper audit, paper scan");
      writeLine("  clear, theme");
      writeLine("");
    }

    async function about(){
      await typeLine("Soy Gibrán (narbigcito). IA, sistemas complejos y antropología experimental.",10);
      await typeLine("Me interesa lo incómodo: contradicciones, incentivos, poder invisible y cómo se diseña cultura.",10);
      writeLine("");
    }
    async function now(){
      await typeLine("Ahora mismo:",10);
      writeLine("- Herramientas para auditar conocimiento (texto+imagen, trazabilidad, consistencia).");
      writeLine("- Experimentos culturales: del lenguaje a la conducta (sin moralina).");
      writeLine("- Infra y escritura: construir + pensar + iterar.");
      writeLine("");
    }
    async function lab(){
      await typeLine("Laboratorio de Antropología Experimental:",10);
      writeLine("- Mapeo de poder invisible (lenguaje, incentivos, rituales).");
      writeLine("- Experimentos culturales (pequeños, medibles, replicables).");
      writeLine("- Tech + arte como herramientas, no como identidad.");
      writeLine("Tip: fieldnote");
      writeLine("");
    }
    function project(){
      writeLine("Proyecto activo: Auditoría de Consistencia Científica (experimental).");
      writeLine("Salida: coherencia interna, replicabilidad, riesgo de sesgo, recomendaciones.");
      writeLine("Prueba: paper audit");
      writeLine("");
    }
    function links(){
      writeLine("Links:");
      writeLine(`- github: ${LINKS.github}`);
      writeLine(`- substack: ${LINKS.substack}`);
      writeLine(`- linkedin: ${LINKS.linkedin}`);
      writeLine(`- insta: ${LINKS.insta}`);
      writeLine(`- schedule: ${LINKS.schedule}`);
      writeLine(`- cv: ${LINKS.cv}`);
      writeLine("");
    }
    function doOpen(key){
      const url=LINKS[key];
      if(!url){
        writeLine("Uso: open <github|substack|linkedin|insta|schedule|cv>");
        writeLine("");
        return;
      }
      window.open(url,"_blank","noopener,noreferrer");
      writeLine(`Abriendo: ${url}`);
      writeLine("");
    }
    async function doCv(){
      const url=LINKS.cv;
      window.open(url,"_blank","noopener,noreferrer");
      const ok=await forceDownload(url,"Gibran-Moreno-CV.pdf");
      writeLine(ok?"CV: abierto + descargado.":"CV: abrí el PDF, pero falló la descarga (revisa la ruta).");
      writeLine("");
    }
    function ls(){
      writeLine("projects/  texts/  lab/  links/  terminal/  source/resume.pdf");
      writeLine("Tip: cv");
      writeLine("");
    }
    function whoami(){
      writeLine("narbigcito");
      writeLine("role: backend/software engineer · complex systems · experimental anthropology");
      writeLine("mode: build + audit + iterate");
      writeLine("");
    }
    function ascii(){
      writeLine("   _   _            _     _           _ _        ");
      writeLine("  | \\ | |          | |   (_)         | (_)       ");
      writeLine("  |  \\| | __ _ _ __| |__  _  __ _  __| |_  ___   ");
      writeLine("  | . ` |/ _` | '__| '_ \\| |/ _` |/ _` | |/ __|  ");
      writeLine("  | |\\  | (_| | |  | |_) | | (_| | (_| | | (__   ");
      writeLine("  |_| \\_|\\__,_|_|  |_.__/|_|\\__,_|\\__,_|_|\\___|  ");
      writeLine("");
    }
    async function matrix(){
      writeLine("Entrando a modo visual… (fake pero bonito)");
      const lines=18;
      for(let i=0;i<lines;i++){
        const s=Array.from({length:64},()=>Math.random()<.5?"0":"1").join("");
        writeLine(s);
        await sleep(35);
      }
      writeLine("Listo.");
      writeLine("");
    }
    function themeToggle(){
      theme=theme==="dark"?"darker":"dark";
      if(theme==="darker"){
        document.documentElement.style.setProperty("--bg","#06080c");
        document.documentElement.style.setProperty("--panel","#0b101a");
        writeLine("theme: darker");
      }else{
        document.documentElement.style.setProperty("--bg","#0b0f14");
        document.documentElement.style.setProperty("--panel","#0f1520");
        writeLine("theme: dark");
      }
      writeLine("");
    }

    async function paperAudit(){
      writeLine("Cargando paper…");await sleep(350);
      writeLine("Extrayendo claims…");await sleep(350);
      writeLine("Buscando contradicciones internas…");await sleep(450);

      const coh=["alta","media","baja"][Math.floor(Math.random()*3)];
      const rep=["documentada","dudosa","ausente"][Math.floor(Math.random()*3)];
      const bias=["bajo","medio","alto"][Math.floor(Math.random()*3)];

      writeLine("");
      writeLine("=== REPORTE (simulado) ===");
      writeLine(`Coherencia interna: ${coh}`);
      writeLine(`Replicabilidad: ${rep}`);
      writeLine(`Riesgo de sesgo: ${bias}`);
      writeLine("");
      writeLine("Notas:");
      writeLine("- Señala supuestos no explicitados.");
      writeLine("- Traza claims a referencias/citas.");
      writeLine("- Sugiere pruebas mínimas para refutar/confirmar.");
      writeLine("");
    }
    async function paperScan(){
      await typeLine("Scan rápido: 3 señales y 1 recomendación.",12);
      const sig=[
        "claim fuerte con evidencia débil",
        "métrica ambigua sin definición operativa",
        "citas circulares (se referencian entre sí)",
        "dataset no disponible / no versionado",
        "conclusión excede resultados"
      ];
      const pick=()=>sig[Math.floor(Math.random()*sig.length)];
      writeLine(`- señal 1: ${pick()}`);
      writeLine(`- señal 2: ${pick()}`);
      writeLine(`- señal 3: ${pick()}`);
      writeLine("- recomendación: publicar protocolo, versionar dataset y definir supuestos.");
      writeLine("");
    }

    function fieldnote(){
      const n=pick(notes);
      writeLine("Field note:");
      writeLine(`- ${n.t}: ${n.x}`);
      writeLine("");
    }

    function clear(){out.innerHTML=""}

    function normalize(s){return s.trim().replaceAll(/\s+/g," ")}

    async function run(cmd){
      const c=normalize(cmd);
      if(!c){return;}
      writeLine(promptStr+c);

      if(c==="help"){help();return;}
      if(c==="about"){await about();return;}
      if(c==="now"){await now();return;}
      if(c==="lab"){await lab();return;}
      if(c==="fieldnote"){fieldnote();return;}
      if(c==="project"){project();return;}
      if(c==="links"){links();return;}
      if(c==="ls"){ls();return;}
      if(c==="whoami"){whoami();return;}
      if(c==="ascii"){ascii();return;}
      if(c==="matrix"){await matrix();return;}
      if(c==="theme"){themeToggle();return;}
      if(c==="clear"){clear();banner();return;}

      if(c==="github"){doOpen("github");return;}
      if(c==="substack"){doOpen("substack");return;}
      if(c==="linkedin"){doOpen("linkedin");return;}
      if(c==="insta"){doOpen("insta");return;}
      if(c==="schedule"){doOpen("schedule");return;}
      if(c==="cv"){await doCv();return;}

      if(c==="paper audit"){await paperAudit();return;}
      if(c==="paper scan"){await paperScan();return;}

      if(c.startsWith("open ")){
        const key=c.slice(5).trim();
        if(key==="cv"){await doCv();return;}
        doOpen(key);
        return;
      }

      writeLine("No entiendo ese comando. Escribe: help");
      writeLine("");
    }

    function autocomplete(){
      const v=normalize(input.value);
      if(!v){return;}
      const matches=cmds.filter(x=>x.startsWith(v));
      if(matches.length===1){
        input.value=matches[0];
      }else if(matches.length>1){
        writeLine(promptStr+v);
        writeLine(matches.join("  "));
        writeLine("");
      }
    }

    input?.addEventListener("keydown",async(e)=>{
      if(e.key==="Enter"){
        e.preventDefault();
        const v=input.value;
        if(v.trim()){
          history.push(v);
          hIdx=history.length;
        }
        input.value="";
        await run(v);
      }
      if(e.key==="ArrowUp"){
        if(history.length===0){return;}
        e.preventDefault();
        hIdx=Math.max(0,hIdx-1);
        input.value=history[hIdx]??"";
      }
      if(e.key==="ArrowDown"){
        if(history.length===0){return;}
        e.preventDefault();
        hIdx=Math.min(history.length,hIdx+1);
        input.value=history[hIdx]??"";
      }
      if(e.key==="Tab"){
        e.preventDefault();
        autocomplete();
      }
      if(e.ctrlKey&&e.key.toLowerCase()==="l"){
        e.preventDefault();
        clear();banner();
      }
    });

    if(out){
      banner();
      writeLine("Prueba: about · now · lab · fieldnote · paper audit · cv · open github");
      writeLine("");
      input?.focus();
    }
  </script>
</body>
</html>

